!function(){"use strict";function t(t,i,n){t.otherwise("/"),i.html5Mode({enabled:!1,requireBase:!1}),i.hashPrefix("!"),n.interceptors.push("itgwo.service.httpInterceptor")}function i(){FastClick.attach(document.body)}angular.module("application",["ui.router","ngAnimate","ngSanitize","foundation","foundation.dynamicRouting","foundation.dynamicRouting.animations","itgwo"]).config(t).run(i),t.$inject=["$urlRouterProvider","$locationProvider","$httpProvider"]}();
!function(){"use strict";var t=angular.module("itgwo",[]);t.constant("config",{site:{title:"ITGWO",payoff:"Into the Great Wide Open 2015"},app:{version:"0.1"},api:{url:"http://programma.greatwideopen.nl/json/"}}),t.filter("key",function(){return function(t){return null===t||void 0===t?"":Object.keys(t)[0]}}),t.filter("value",function(){return function(t){return t[Object.keys(t)[0]]}}),t.filter("slug",function(){return function(t){var e=t.split("/");return e[e.length-1]}}),t.directive("getThema",["$http","$filter","config","$state",function(t,e,n,a){return{template:'<span class="label">{{ thema }}</span>',scope:{onderwerpSlug:"=getThema"},link:function(r,i,u){var o=e("key"),l=e("value"),c=e("slug");t.get(n.api.url+"onderwerpen/"+r.onderwerpSlug,{cache:!0}).then(function(t){var e=l(t.data.data.attributes.taxonomy.themas),n=c(o(t.data.data.attributes.taxonomy.themas));r.thema=e,i[0].href=a.href("thema",{id:n})},function(t){r.thema="Unknown",r.url="#"})}}}])}();
!function(){"use strict";var t=angular.module("itgwo");t.controller("itgwo.controller.anekdotes",["$scope","$controller","$state","$http","$rootScope","config","itgwo.service.notification",function(t,o,a,e,n,i,c){e.get(i.api.url+"anekdotes/"+a.params.id,{cache:!0}).then(function(o){t.anekdote=o.data.data,n.title=o.data.data.attributes.title})["catch"](function(t){c.notification(t.data)}),angular.extend(this,o("itgwo.controller.base",{$scope:t}))}])}();
!function(){"use strict";var t=angular.module("itgwo");t.controller("itgwo.controller.base",["$http","$scope","$state","$stateParams","$controller","$location","$rootScope","config","FoundationApi","itgwo.service.notification","itgwo.service.httpInterceptor",function(t,e,o,r,n,a,i,c,s,u,p){return i.title=o.current.data.vars.title,i.config=c,i.isLoading=function(){return p.isLoading()},e.contenttypeToRoute=function(t){var e={onderwerpen:"onderwerp",programmas:"programmaItem",anekdotes:"anekdote",themas:"thema"};return e[t]},e.contenttypeToSingular=function(t){var e={onderwerpen:"onderwerp",programmas:"programma",anekdotes:"anekdote",themas:"thema"};return e[t]},e.range=function(t,e,o){o=o||1;for(var r=[],n=t;e>=n;n+=o)r.push(n);return r},e}])}();
!function(){"use strict";var t=angular.module("itgwo");t.controller("itgwo.controller.berichten",["$scope","$controller","$state","$http","$rootScope","config","itgwo.service.notification",function(t,o,e,n,c,i,a){n.get(i.api.url+"berichten/"+e.params.id,{cache:!0}).then(function(o){t.thema=o.data.data})["catch"](function(t){a.notification(t.data)}),angular.extend(this,o("itgwo.controller.base",{$scope:t}))}])}();
!function(){"use strict";var t=angular.module("itgwo");t.controller("itgwo.controller.home",["$scope","$controller","$state","$http","config","itgwo.service.notification",function(t,e,o,n,i,a){n.get(i.api.url+"berichten?"+jQuery.param({"page[size]":10}),{cache:!0}).then(function(e){t.berichten=e.data.data})["catch"](function(t){a.notification(t.data)}),angular.extend(this,e("itgwo.controller.base",{$scope:t}))}])}();
!function(){"use strict";var t=angular.module("itgwo");t.controller("itgwo.controller.onderwerpen",["$scope","$controller","$state","$http","$rootScope","config","itgwo.service.notification",function(t,a,e,n,o,i,r){n.get(i.api.url+"anekdotes?"+jQuery.param({"filter[onderwerpen]":e.params.id}),{cache:!0}).then(function(a){t.anekdotes=a.data.data})["catch"](function(t){r.notification(t.data)}),n.get(i.api.url+"onderwerpen/"+e.params.id,{cache:!0}).then(function(a){t.onderwerp=a.data.data,o.title=a.data.data.attributes.title})["catch"](function(t){r.notification(t.data)}),angular.extend(this,a("itgwo.controller.base",{$scope:t}))}])}();
!function(){"use strict";var t=angular.module("itgwo");t.controller("itgwo.controller.programmas",["$scope","$controller","$state","$http","$rootScope","config","itgwo.service.notification",function(t,a,e,o,i,n,c){e.params.id?o.get(n.api.url+"programmas/"+e.params.id,{cache:!0}).then(function(a){t.programma=a.data.data,i.title=a.data.data.attributes.title})["catch"](function(t){c.notification(t.data)}):o.get(n.api.url+"speeltijden?"+jQuery.param({"page[size]":1e3,sort:"title"}),{cache:!0}).then(function(a){t.speeltijden=a.data.data,console.log(t.speeltijden)})["catch"](function(t){c.notification(t.data)}),angular.extend(this,a("itgwo.controller.base",{$scope:t}))}])}();
!function(){"use strict";var n=angular.module("itgwo");n.controller("itgwo.controller.qrscan",["$scope","$controller","$state","$http","$rootScope","config","itgwo.service.notification",function(n,o,e,t,c,l,r){n.counter=0,n.myClick=function(){n.counter++,n.name="ctrl"+n.counter},n.scan=function(){console.log("scanning");var n=cordova.require("cordova/plugin/BarcodeScanner");n.scan(function(n){alert("We got a barcode\nResult: "+n.text+"\nFormat: "+n.format+"\nCancelled: "+n.cancelled),console.log("Scanner result: \ntext: "+n.text+"\nformat: "+n.format+"\ncancelled: "+n.cancelled+"\n"),document.getElementById("info").innerHTML=n.text,console.log(n)},function(n){console.log("Scanning failed: ",n)})}}])}();
!function(){"use strict";var t=angular.module("itgwo");t.controller("itgwo.controller.themas",["$scope","$controller","$state","$http","$rootScope","config","itgwo.service.notification",function(t,a,e,o,n,i,c){o.get(i.api.url+"onderwerpen?"+jQuery.param({"filter[themas]":e.params.id}),{cache:!0}).then(function(a){t.onderwerpen=a.data.data})["catch"](function(t){c.notification(t.data)}),o.get(i.api.url+"themas/"+e.params.id,{cache:!0}).then(function(a){t.thema=a.data.data,n.title=a.data.data.attributes.title})["catch"](function(t){c.notification(t.data)}),angular.extend(this,a("itgwo.controller.base",{$scope:t}))}])}();
!function(){"use strict";var t=angular.module("itgwo");t.controller("itgwo.controller.tijdlijn",["$scope","$controller","$state","$http","$rootScope","config","itgwo.service.notification",function(t,o,n,e,i,r,a){i.title=n.current.data.vars.title,e.get(r.api.url+"anekdotes?"+jQuery.param({sort:"timelineposition"}),{cache:!0}).then(function(o){t.anekdotes=o.data.data})["catch"](function(t){a.notification(t.data)}),angular.extend(this,o("itgwo.controller.base",{$scope:t}))}]),t.directive("tijlijnScroll",["$document",function(t){return{restrict:"A",link:function(t,o,n){o.bind("click",function(){var t=jQuery(".anekdote"),o=jQuery(t[0]).parent().parent();t=t.filter(function(t){var o=$(this).data("position");return n.from<=o&&o<=n.to});var e=0;if(t.length>=1){var i=jQuery(t[0]);console.log(i.offset().top),e=i.offset().top+o.scrollTop()}o.animate({scrollTop:e},150)})}}}])}();
!function(){"use strict";var e=angular.module("itgwo");e.controller("itgwo.controller.zoeken",["$scope","$controller","$state","$http","$rootScope","$location","config","itgwo.service.notification",function(e,t,o,a,n,r,i,c){var l=o.params.q||"",u=o.params.p||1,s=10;if(e.q=l,e.query=l,e.p=u,e.zoekresultaten=[],e.title="Zoeken",e.numPages=0,l){var g={q:l,page:{number:u,size:s}};a.get(i.api.url+"search?"+jQuery.param(g),{cache:!0}).then(function(t){e.numPages=Math.ceil(t.data.meta.total/s),e.zoekresultaten=t.data.data,n.title="Zoekresultaten"})}e.onFormSubmit=function(t){o.go("zoeken",{q:e.query,p:1})},angular.extend(this,t("itgwo.controller.base",{$scope:e}))}])}();
!function(){"use strict";var r=angular.module("itgwo");r.factory("itgwo.service.httpInterceptor",["$q","$window",function(r,n){var t=0;return{request:function(r){return t++,r},response:function(r){return t--,r},responseError:function(n){return t--,r.reject(n)},isLoading:function(){return 0!=t}}}])}();
!function(){"use strict";var i=angular.module("itgwo");i.service("itgwo.service.notification",["config","$filter","$http","FoundationApi",function(i,t,o,n){this.notification=function(i){n.publish("notifications",{title:"Error: "+i.errors.title,content:i.errors.detail,color:"alert"})}}])}();